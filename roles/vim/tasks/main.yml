- name: distrib specific packages are installed
  include: "{{ DISTRIB }}.yml"

- name: vim awesome is pulled and up to date
  git:
    repo: https://github.com/amix/vimrc.git
    dest: /home/tristan/.vim_runtime
    depth: 1

- name: personal configuration file is copied
  copy:
    src: vimrc
    dest: /home/tristan/.vim_runtime/my_configs.vim
    owner: tristan
    group: tristan

- name: install vim modules
  become: true
  become_user: tristan
  git:
    repo: "{{ item.repo }}"
    dest: "{{ item.dest }}"
  loop:
    - { repo: "https://github.com/bfrg/vim-cpp-modern.git", dest: "/home/tristan/.vim_runtime/my_plugins/vim-cpp-modern" }
    - { repo: "https://github.com/rhysd/vim-clang-format.git", dest: "/home/tristan/.vim_runtime/my_plugins/vim-clang-format" }
    - { repo: "https://github.com/tell-k/vim-autopep8.git", dest: "/home/tristan/.vim_runtime/my_plugins/vim-autopep8" }
    - { repo: "https://github.com/posva/vim-vue.git", dest: "/home/tristan/.vim_runtime/my_plugins/vim-vuejs" }
